{"version":3,"sources":["commands/build/AndroidBuilder.ts"],"names":["ANDROID","PLATFORMS","AndroidBuilder","BaseBuilder","run","validateProject","Android","checkSplashScreenImages","projectDir","checkForBuildInProgress","collectAndValidateCredentials","publishedExpIds","options","publicUrl","undefined","ensureReleaseExists","checkStatusBeforeBuild","build","utils","checkIfSdkIsSupported","manifest","sdkVersion","BuildError","androidPackage","test","_clearCredentials","credentialMetadata","Credentials","getCredentialMetadataAsync","log","warn","chalk","red","questions","type","name","message","answers","confirm","ctx","Context","init","backupKeystoreOutputPath","path","resolve","slug","view","DownloadKeystore","fetch","save","removeCredentialsForPlatform","credentialsExist","credentialsExistForPlatformAsync","checkEnv","collectAndValidateCredentialsFromCI","generateKeystore","clearCredentials","console","choices","value","validate","keystorePath","keystorePathStats","fs","stat","isFile","e","filter","isAbsolute","when","uploadKeystore","val","password","keystoreAlias","keystorePassword","keyPassword","keystoreData","readFile","credentials","keystore","toString","updateCredentialsForPlatform","process","env","EXPO_ANDROID_KEYSTORE_PASSWORD","EXPO_ANDROID_KEY_PASSWORD","platform"],"mappings":"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","file":"../../../commands/build/AndroidBuilder.js","sourceRoot":"/expo-cli@3.16.1/src"}