{"version":3,"sources":["commands/upgrade.ts"],"names":["maybeFormatSdkVersion","sdkVersionString","semver","valid","coerce","getUpdatedDependenciesAsync","projectRoot","workflow","targetSdkVersion","exp","pkg","ConfigUtils","getConfig","bundledNativeModules","JsonFile","readAsync","resolveModule","projectDependencies","dependencies","devDependencies","getDependenciesFromBundledNativeModules","sdkVersion","result","Object","keys","forEach","name","log","warn","expoReactNativeTag","facebookReactNativeVersion","facebookReactVersion","relatedPackages","maybeBailOnGitStatusAsync","isGitStatusClean","newLine","program","nonInteractive","answer","type","message","ignoreDirtyGit","maybeBailOnUnsafeFunctionalityAsync","Versions","gteSdkVersion","attemptOldUpdate","stopExpoServerAsync","status","Project","currentStatus","stopAsync","chalk","bold","underline","addNewLineIfNone","shouldBailWhenUsingLatest","currentSdkVersionString","targetSdkVersionString","attemptUpdateAgain","shouldUpgradeSimulatorAsync","Simulator","isPlatformSupported","default","upgradeSimulator","maybeUpgradeSimulatorAsync","upgradeExpoAsync","error","shouldUpgradeEmulatorAsync","Android","upgradeAndroid","maybeUpgradeEmulatorAsync","upgradeAsync","requestedSdkVersion","options","sdkVersions","releasedSdkVersionsAsync","latestSdkVersion","newestReleasedSdkVersionAsync","latestSdkVersionString","version","updateToLatestSdkVersion","sdkVersionStringOptions","filter","v","lte","selectedSdkVersionString","pageSize","choices","map","value","attemptUnknownUpdate","platforms","includes","packageManager","PackageManager","createForProject","npm","yarn","addAsync","rootConfig","readConfigJsonAsync","expo","writeConfigJsonAsync","undefined","_","currentExp","updates","pickBy","_version","has","devDependenciesAsStringArray","dependenciesAsStringArray","length","addDevAsync","startReactNativeServerAsync","reset","nonPersistent","stopReactNativeServerAsync","green","grey","join","allDependencies","untouchedDependencies","difference","releaseNoteUrl","gray","skippedSdkVersions","_data","lt","gt","skippedSdkVersionKeys","releaseNotesUrls","values","data","reverse","url","command","alias","option","description","asyncAction","process","cwd"],"mappings":";;;;;;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;;;;;AAgBO,SAASA,qBAAT,CAA+BC,gBAA/B,EAA+E;AACpF,MAAI,OAAOA,gBAAP,KAA4B,QAA5B,IAAwCA,gBAAgB,KAAK,aAAjE,EAAgF;AAC9E,WAAOA,gBAAP;AACD,GAHmF,CAKpF;;;AACA,SAAOC,kBAAOC,KAAP,CAAaD,kBAAOE,MAAP,CAAcH,gBAAd,KAAmC,EAAhD,CAAP;AACD;AAED;;;;;AAGO,eAAeI,2BAAf,CACLC,WADK,EAELC,QAFK,EAGLC,gBAHK,EAIoB;AACzB;AACA,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,MAAeC,WAAW,GAACC,SAAZ,CAAsBN,WAAtB,CAArB;AACA,QAAMO,oBAAoB,GAAI,MAAMC,oBAASC,SAAT,CAClCJ,WAAW,GAACK,aAAZ,CAA0B,gCAA1B,EAA4DV,WAA5D,EAAyEG,GAAzE,CADkC,CAApC,CAHyB,CAOzB;;AACA,QAAMQ,mBAAmB,GAAG,EAAE,GAAGP,GAAG,CAACQ,YAAT;AAAuB,OAAGR,GAAG,CAACS;AAA9B,GAA5B;AAEA,SAAOC,uCAAuC,CAAC;AAC7CH,IAAAA,mBAD6C;AAE7CJ,IAAAA,oBAF6C;AAG7CQ,IAAAA,UAAU,EAAEZ,GAAG,CAACY,UAH6B;AAI7Cd,IAAAA,QAJ6C;AAK7CC,IAAAA;AAL6C,GAAD,CAA9C;AAOD;;AAUM,SAASY,uCAAT,CAAiD;AACtDH,EAAAA,mBADsD;AAEtDJ,EAAAA,oBAFsD;AAGtDQ,EAAAA,UAHsD;AAItDd,EAAAA,QAJsD;AAKtDC,EAAAA;AALsD,CAAjD,EAMwC;AAC7C,QAAMc,MAAsB,GAAG,EAA/B;AAEAC,EAAAA,MAAM,CAACC,IAAP,CAAYX,oBAAZ,EAAkCY,OAAlC,CAA0CC,IAAI,IAAI;AAChD,QAAIT,mBAAmB,CAACS,IAAD,CAAvB,EAA+B;AAC7BJ,MAAAA,MAAM,CAACI,IAAD,CAAN,GAAeb,oBAAoB,CAACa,IAAD,CAAnC;AACD;AACF,GAJD,EAH6C,CAS7C;AACA;;AACA,MAAIL,UAAU,IAAIJ,mBAAmB,CAAC,WAAD,CAArC,EAAoD;AAClDK,IAAAA,MAAM,CAAC,WAAD,CAAN,GAAuB,IAAGD,UAAW,EAArC;AACD;;AAED,MAAI,CAACb,gBAAL,EAAuB;AACrBmB,mBAAIC,IAAJ,CACG,8JADH;;AAGA,WAAON,MAAP;AACD,GApB4C,CAsB7C;;;AACA,MAAIf,QAAQ,KAAK,SAAb,IAA0BU,mBAAmB,CAAC,SAAD,CAAjD,EAA8D;AAC5DK,IAAAA,MAAM,CACJ,cADI,CAAN,GAEK,gDAA+Cd,gBAAgB,CAACqB,kBAAmB,SAFxF;AAGD,GAJD,MAIO;AACLP,IAAAA,MAAM,CAAC,cAAD,CAAN,GAAyBd,gBAAgB,CAACsB,0BAA1C;AACD,GA7B4C,CA+B7C;;;AACA,MAAItB,gBAAgB,CAACuB,oBAArB,EAA2C;AACzCT,IAAAA,MAAM,CAAC,OAAD,CAAN,GAAkBd,gBAAgB,CAACuB,oBAAnC,CADyC,CAGzC;;AACA,QAAId,mBAAmB,CAAC,WAAD,CAAvB,EAAsC;AACpCK,MAAAA,MAAM,CAAC,WAAD,CAAN,GAAsBd,gBAAgB,CAACuB,oBAAvC;AACD;AACF,GAvC4C,CAyC7C;;;AACA,MAAIvB,gBAAgB,CAACwB,eAArB,EAAsC;AACpCT,IAAAA,MAAM,CAACC,IAAP,CAAYhB,gBAAgB,CAACwB,eAA7B,EAA8CP,OAA9C,CAAsDC,IAAI,IAAI;AAC5D,UAAIT,mBAAmB,CAACS,IAAD,CAAvB,EAA+B;AAC7BJ,QAAAA,MAAM,CAACI,IAAD,CAAN,GAAelB,gBAAgB,CAACwB,eAAjB,CAAkCN,IAAlC,CAAf;AACD;AACF,KAJD;AAKD;;AAED,SAAOJ,MAAP;AACD;;AAED,eAAeW,yBAAf,GAA6D;AAC3D,QAAMC,gBAAgB,GAAG,MAAM,6CAA/B;;AACAP,iBAAIQ,OAAJ,GAF2D,CAI3D;;;AACA,MAAI,CAACD,gBAAL,EAAuB;AACrB,QAAIE,qBAAQC,cAAZ,EAA4B;AAC1BV,qBAAIC,IAAJ,CACG,sFADH;;AAGA,aAAO,KAAP;AACD;;AAED,UAAMU,MAAM,GAAG,MAAM,uBAAO;AAC1BC,MAAAA,IAAI,EAAE,SADoB;AAE1Bb,MAAAA,IAAI,EAAE,gBAFoB;AAG1Bc,MAAAA,OAAO,EAAG;AAHgB,KAAP,CAArB;;AAMA,QAAI,CAACF,MAAM,CAACG,cAAZ,EAA4B;AAC1B,aAAO,IAAP;AACD;;AAEDd,mBAAIQ,OAAJ;AACD;;AACD,SAAO,KAAP;AACD;;AAED,eAAeO,mCAAf,CACEjC,GADF,EAEoB;AAClB;AACA,MAAI,CAACkC,gBAASC,aAAT,CAAuBnC,GAAvB,EAA4B,QAA5B,CAAL,EAA4C;AAC1C,QAAI2B,qBAAQC,cAAZ,EAA4B;AAC1BV,qBAAIC,IAAJ,CACG,gIADH;;AAGA,aAAO,IAAP;AACD;;AAED,UAAMU,MAAM,GAAG,MAAM,uBAAO;AAC1BC,MAAAA,IAAI,EAAE,SADoB;AAE1Bb,MAAAA,IAAI,EAAE,kBAFoB;AAG1Bc,MAAAA,OAAO,EAAG;AAHgB,KAAP,CAArB;;AAMA,QAAI,CAACF,MAAM,CAACO,gBAAZ,EAA8B;AAC5B,aAAO,IAAP;AACD;;AAEDlB,mBAAIQ,OAAJ;AACD;;AACD,SAAO,KAAP;AACD;;AAED,eAAeW,mBAAf,CAAmCxC,WAAnC,EAAuE;AACrE;AACA,QAAMyC,MAAM,GAAG,MAAMC,eAAQC,aAAR,CAAsB3C,WAAtB,CAArB;;AACA,MAAIyC,MAAM,KAAK,SAAf,EAA0B;AACxB,UAAMC,eAAQE,SAAR,CAAkB5C,WAAlB,CAAN;AACA,wBACE6C,iBAAMC,IAAN,CAAWC,SAAX,CACE,4FADF,CADF;;AAKA1B,mBAAI2B,gBAAJ;AACD;AACF;;AAED,eAAeC,yBAAf,CACEC,uBADF,EAEEC,sBAFF,EAGoB;AAClB;AACA,MAAIA,sBAAsB,KAAKD,uBAA/B,EAAwD;AACtD,QAAIpB,qBAAQC,cAAZ,EAA4B;AAC1BV,qBAAIC,IAAJ,CACG,+GADH;;AAGA,aAAO,KAAP;AACD;;AACD,UAAMU,MAAM,GAAG,MAAM,uBAAO;AAC1BC,MAAAA,IAAI,EAAE,SADoB;AAE1Bb,MAAAA,IAAI,EAAE,oBAFoB;AAG1Bc,MAAAA,OAAO,EAAG;AAHgB,KAAP,CAArB;;AAMA,QAAI,CAACF,MAAM,CAACoB,kBAAZ,EAAgC;AAC9B,0BAAI,2EAAJ;AACA,aAAO,IAAP;AACD;AACF;;AACD,SAAO,KAAP;AACD;;AAED,eAAeC,2BAAf,GAA+D;AAC7D;AACA,MAAIC,iBAAUC,mBAAV,EAAJ,EAAqC;AACnC,QAAIzB,qBAAQC,cAAZ,EAA4B;AAC1BV,qBAAIC,IAAJ,CAAU,8DAAV;;AACA,aAAO,KAAP;AACD;;AAED,QAAIU,MAAM,GAAG,MAAM,uBAAO;AACxBC,MAAAA,IAAI,EAAE,SADkB;AAExBb,MAAAA,IAAI,EAAE,kBAFkB;AAGxBc,MAAAA,OAAO,EACL,qIAJsB;AAKxBsB,MAAAA,OAAO,EAAE;AALe,KAAP,CAAnB;AAQA,WAAOxB,MAAM,CAACyB,gBAAd;AACD;;AACD,SAAO,KAAP;AACD;;AAED,eAAeC,0BAAf,GAA4C;AAC1C;AACA,MAAIJ,iBAAUC,mBAAV,EAAJ,EAAqC;AACnC,QAAI,MAAMF,2BAA2B,EAArC,EAAyC;AACvC,UAAIrC,MAAM,GAAG,MAAMsC,iBAAUK,gBAAV,EAAnB;;AACA,UAAI,CAAC3C,MAAL,EAAa;AACXK,uBAAIuC,KAAJ,CACE,2HADF;AAGD;AACF;;AACDvC,mBAAIQ,OAAJ;AACD;AACF;;AAED,eAAegC,0BAAf,GAA8D;AAC5D;AACA,MAAIC,eAAQP,mBAAR,EAAJ,EAAmC;AACjC,QAAIzB,qBAAQC,cAAZ,EAA4B;AAC1BV,qBAAIC,IAAJ,CAAU,qEAAV;;AACA,aAAO,KAAP;AACD;;AAED,UAAMU,MAAM,GAAG,MAAM,uBAAO;AAC1BC,MAAAA,IAAI,EAAE,SADoB;AAE1Bb,MAAAA,IAAI,EAAE,gBAFoB;AAG1Bc,MAAAA,OAAO,EACL,0JAJwB;AAK1BsB,MAAAA,OAAO,EAAE;AALiB,KAAP,CAArB;AAQA,WAAOxB,MAAM,CAAC+B,cAAd;AACD;;AACD,SAAO,KAAP;AACD;;AAED,eAAeC,yBAAf,GAA2C;AACzC;AACA,MAAI,MAAMH,0BAA0B,EAApC,EAAwC;AACtC,UAAM7C,MAAM,GAAG,MAAM8C,eAAQH,gBAAR,EAArB;;AACA,QAAI,CAAC3C,MAAL,EAAa;AACXK,qBAAIuC,KAAJ,CACE,oIADF;AAGD;;AACDvC,mBAAIQ,OAAJ;AACD;AACF;;AAEM,eAAeoC,YAAf,CACL;AACEC,EAAAA,mBADF;AAEElE,EAAAA,WAFF;AAGEC,EAAAA;AAHF,CADK,EAULkE,OAVK,EAWL;AACA,MAAI;AAAEhE,IAAAA,GAAF;AAAOC,IAAAA;AAAP,MAAe,MAAMC,WAAW,GAACC,SAAZ,CAAsBN,WAAtB,CAAzB;AAEA,MAAI,MAAM2B,yBAAyB,EAAnC,EAAuC;AAEvC,MAAI,MAAMS,mCAAmC,CAACjC,GAAD,CAA7C,EAAoD;AAEpD,QAAMqC,mBAAmB,CAACxC,WAAD,CAAzB;AAEA,MAAIkD,uBAAuB,GAAG/C,GAAG,CAACY,UAAlC;AACA,MAAIqD,WAAW,GAAG,MAAM/B,gBAASgC,wBAAT,EAAxB;AACA,MAAIC,gBAAgB,GAAG,MAAMjC,gBAASkC,6BAAT,EAA7B;AACA,MAAIC,sBAAsB,GAAGF,gBAAgB,CAACG,OAA9C;AACA,MAAItB,sBAAsB,GACxBzD,qBAAqB,CAACwE,mBAAD,CAArB,IAA8CI,gBAAgB,CAACG,OADjE;AAEA,MAAIvE,gBAAgB,GAAGkE,WAAW,CAACjB,sBAAD,CAAlC,CAfA,CAiBA;;AACA,MAAI,MAAMF,yBAAyB,CAACC,uBAAD,EAA0BC,sBAA1B,CAAnC,EAAsF;;AAEtF,MACEA,sBAAsB,KAAKqB,sBAA3B,IACAtB,uBAAuB,KAAKC,sBAD5B,IAEA,CAACrB,qBAAQC,cAHX,EAIE;AACA,QAAIC,MAAM,GAAG,MAAM,uBAAO;AACxBC,MAAAA,IAAI,EAAE,SADkB;AAExBb,MAAAA,IAAI,EAAE,0BAFkB;AAGxBc,MAAAA,OAAO,EAAG,+BAA8BgB,uBAAwB,qDAAoDoB,gBAAgB,CAACG,OAAQ;AAHrH,KAAP,CAAnB;;AAMApD,mBAAIQ,OAAJ;;AAEA,QAAI,CAACG,MAAM,CAAC0C,wBAAZ,EAAsC;AACpC,UAAIC,uBAAuB,GAAG1D,MAAM,CAACC,IAAP,CAAYkD,WAAZ,EAAyBQ,MAAzB,CAC5BC,CAAC,IAAIjF,kBAAOkF,GAAP,CAAW,QAAX,EAAqBD,CAArB,KAA2B,CAACxC,gBAASC,aAAT,CAAuBnC,GAAvB,EAA4B0E,CAA5B,CADL,CAA9B;AAIA,UAAI;AAAEE,QAAAA;AAAF,UAA+B,MAAM,uBAAO;AAC9C9C,QAAAA,IAAI,EAAE,MADwC;AAE9Cb,QAAAA,IAAI,EAAE,0BAFwC;AAG9Cc,QAAAA,OAAO,EAAE,qCAHqC;AAI9C8C,QAAAA,QAAQ,EAAE,EAJoC;AAK9CC,QAAAA,OAAO,EAAEN,uBAAuB,CAACO,GAAxB,CAA4BvF,gBAAgB,KAAK;AACxDwF,UAAAA,KAAK,EAAExF,gBADiD;AAExDyB,UAAAA,IAAI,EAAEyB,iBAAMC,IAAN,CAAWnD,gBAAX;AAFkD,SAAL,CAA5C;AALqC,OAAP,CAAzC,CALoC,CAgBpC;;AACAO,MAAAA,gBAAgB,GAAGkE,WAAW,CAACW,wBAAD,CAA9B;AACA5B,MAAAA,sBAAsB,GAAG4B,wBAAzB;;AACA1D,qBAAIQ,OAAJ;AACD;AACF,GAlCD,MAkCO,IAAI,CAAC3B,gBAAL,EAAuB;AAC5B,QAAI4B,qBAAQC,cAAZ,EAA4B;AAC1BV,qBAAIC,IAAJ,CACG,gDAA+C6B,sBAAuB,yGADzE;AAGD,KAJD,MAIO;AACL;AACA;AACA;AACA,UAAInB,MAAM,GAAG,MAAM,uBAAO;AACxBC,QAAAA,IAAI,EAAE,SADkB;AAExBb,QAAAA,IAAI,EAAE,sBAFkB;AAGxBc,QAAAA,OAAO,EAAG,gDAA+CiB,sBAAuB;AAHxD,OAAP,CAAnB;;AAMA,UAAI,CAACnB,MAAM,CAACoD,oBAAZ,EAAkC;AAChC;AACD;AACF;AACF;;AAED,QAAMC,SAAS,GAAGlF,GAAG,CAACkF,SAAJ,IAAiB,EAAnC,CA3EA,CA6EA;;AACA,MAAIA,SAAS,CAACC,QAAV,CAAmB,KAAnB,CAAJ,EAA+B;AAC7B,UAAM5B,0BAA0B,EAAhC;AACD,GAhFD,CAkFA;;;AACA,MAAI2B,SAAS,CAACC,QAAV,CAAmB,SAAnB,CAAJ,EAAmC;AACjC,UAAMtB,yBAAyB,EAA/B;AACD;;AAED,MAAIuB,cAAc,GAAGC,cAAc,GAACC,gBAAf,CAAgCzF,WAAhC,EAA6C;AAChE0F,IAAAA,GAAG,EAAEvB,OAAO,CAACuB,GADmD;AAEhEC,IAAAA,IAAI,EAAExB,OAAO,CAACwB,IAFkD;AAGhEtE,IAAAA,GAAG,EAAHA;AAHgE,GAA7C,CAArB;;AAMAA,iBAAI2B,gBAAJ;;AACA,sBAAIH,iBAAME,SAAN,CAAgBD,IAAhB,CAAqB,gCAArB,CAAJ;;AACAzB,iBAAI2B,gBAAJ;;AACA,QAAMuC,cAAc,CAACK,QAAf,CAAyB,SAAQzC,sBAAuB,EAAxD,CAAN,CAhGA,CAkGA;;AACA,MAAI;AACF,UAAM;AAAE0C,MAAAA;AAAF,QAAiB,MAAMxF,WAAW,GAACyF,mBAAZ,CAAgC9F,WAAhC,CAA7B;;AACA,QAAI6F,UAAU,CAACE,IAAX,CAAgBhF,UAAhB,IAA8B8E,UAAU,CAACE,IAAX,CAAgBhF,UAAhB,KAA+B,aAAjE,EAAgF;AAC9EM,qBAAI2B,gBAAJ;;AACA,0BAAIH,iBAAME,SAAN,CAAgBD,IAAhB,CAAqB,8DAArB,CAAJ;AACA,YAAMzC,WAAW,GAAC2F,oBAAZ,CAAiChG,WAAjC,EAA8C;AAAEe,QAAAA,UAAU,EAAEkF;AAAd,OAA9C,CAAN;AACD;AACF,GAPD,CAOE,OAAOC,CAAP,EAAU,CAAE,CA1Gd,CA4GA;;;AACA,QAAM;AAAE/F,IAAAA,GAAG,EAAEgG;AAAP,MAAsB9F,WAAW,GAACC,SAAZ,CAAsBN,WAAtB,CAA5B;;AAEA,MACE,CAACqC,gBAASC,aAAT,CAAuB6D,UAAvB,EAAmChD,sBAAnC,CAAD,IACAgD,UAAU,CAACpF,UAAX,KAA0B,aAF5B,EAGE;AACAM,mBAAI2B,gBAAJ;;AACA,wBACEH,iBAAME,SAAN,CAAgBD,IAAhB,CAAqB,uEAArB,CADF;AAGD;;AAED,sBAAID,iBAAMC,IAAN,CAAWC,SAAX,CAAqB,2DAArB,CAAJ;;AACA1B,iBAAI2B,gBAAJ,GA1HA,CA4HA;;;AACA,MAAIoD,OAAO,GAAG,MAAMrG,2BAA2B,CAACC,WAAD,EAAcC,QAAd,EAAwBC,gBAAxB,CAA/C,CA7HA,CA+HA;;AACA,MAAIW,eAAe,GAAGqF,kBAAEG,MAAF,CAASD,OAAT,EAAkB,CAACE,QAAD,EAAWlF,IAAX,KAAoB8E,kBAAEK,GAAF,CAAMnG,GAAG,CAACS,eAAV,EAA2BO,IAA3B,CAAtC,CAAtB;;AACA,MAAIoF,4BAA4B,GAAGvF,MAAM,CAACC,IAAP,CAAYL,eAAZ,EAA6BqE,GAA7B,CACjC9D,IAAI,IAAK,GAAEA,IAAK,IAAGgF,OAAO,CAAChF,IAAD,CAAO,EADA,CAAnC;;AAGA,MAAIR,YAAY,GAAGsF,kBAAEG,MAAF,CAASD,OAAT,EAAkB,CAACE,QAAD,EAAWlF,IAAX,KAAoB8E,kBAAEK,GAAF,CAAMnG,GAAG,CAACQ,YAAV,EAAwBQ,IAAxB,CAAtC,CAAnB;;AACA,MAAIqF,yBAAyB,GAAGxF,MAAM,CAACC,IAAP,CAAYN,YAAZ,EAA0BsE,GAA1B,CAA8B9D,IAAI,IAAK,GAAEA,IAAK,IAAGgF,OAAO,CAAChF,IAAD,CAAO,EAA/D,CAAhC,CArIA,CAuIA;;AACA,MAAIoF,4BAA4B,CAACE,MAAjC,EAAyC;AACvC,UAAMnB,cAAc,CAACoB,WAAf,CAA2B,GAAGH,4BAA9B,CAAN;AACD,GA1ID,CA4IA;;;AACA,MAAIC,yBAAyB,CAACC,MAA9B,EAAsC;AACpC,UAAMnB,cAAc,CAACK,QAAf,CAAwB,GAAGa,yBAA3B,CAAN;AACD,GA/ID,CAiJA;;;AACApF,iBAAI2B,gBAAJ;;AACA,sBAAIH,iBAAMC,IAAN,CAAWC,SAAX,CAAqB,gCAArB,CAAJ;AACA,QAAML,eAAQkE,2BAAR,CAAoC5G,WAApC,EAAiD;AAAE6G,IAAAA,KAAK,EAAE,IAAT;AAAeC,IAAAA,aAAa,EAAE;AAA9B,GAAjD,CAAN;AACA,QAAMpE,eAAQqE,0BAAR,CAAmC/G,WAAnC,CAAN;;AAEAqB,iBAAI2B,gBAAJ;;AACA,sBAAIH,iBAAME,SAAN,CAAgBD,IAAhB,CAAqBkE,KAArB,CAA4B,mCAA5B,CAAJ;AACA,sBAAInE,iBAAMC,IAAN,CAAWmE,IAAX,CAAiB,kDAAjB,CAAJ;;AACA5F,iBAAIQ,OAAJ,GA1JA,CA4JA;;;AACA,sBAAIgB,iBAAMC,IAAN,CAAY,sCAAZ,CAAJ;AACA,sBAAID,iBAAMoE,IAAN,CAAWnE,IAAX,CAAgB,CAAC,GAAG7B,MAAM,CAACC,IAAP,CAAYkF,OAAZ,CAAJ,EAA0B,GAAG,CAAC,MAAD,CAA7B,EAAuCc,IAAvC,CAA4C,IAA5C,CAAhB,CAAJ;;AACA7F,iBAAI2B,gBAAJ,GA/JA,CAiKA;;;AACA,MAAImE,eAAe,GAAG,EAAE,GAAG/G,GAAG,CAACQ,YAAT;AAAuB,OAAGR,GAAG,CAACS;AAA9B,GAAtB;;AACA,MAAIuG,qBAAqB,GAAGlB,kBAAEmB,UAAF,CAAapG,MAAM,CAACC,IAAP,CAAYiG,eAAZ,CAAb,EAA2C,CACrE,GAAGlG,MAAM,CAACC,IAAP,CAAYkF,OAAZ,CADkE,EAErE,MAFqE,CAA3C,CAA5B;;AAIA,MAAIgB,qBAAqB,CAACV,MAA1B,EAAkC;AAChCrF,mBAAI2B,gBAAJ;;AACA,wBACEH,iBAAMC,IAAN,CACG,+BAA8BD,iBAAME,SAAN,CAC7B,KAD6B,CAE7B,sIAHJ,CADF;AAOA,wBAAIF,iBAAMoE,IAAN,CAAWnE,IAAX,CAAgBsE,qBAAqB,CAACF,IAAtB,CAA2B,IAA3B,CAAhB,CAAJ;;AACA7F,mBAAI2B,gBAAJ;AACD,GAlLD,CAoLA;;;AACA,MAAI/C,QAAQ,KAAK,MAAjB,EAAyB;AACvBoB,mBAAI2B,gBAAJ;;AACA,wBACEH,iBAAMC,IAAN,CACG,mHAAkHD,iBAAMoE,IAAN,CACjH,aADiH,CAEjH,4DAHJ,CADF;;AAOA5F,mBAAI2B,gBAAJ;AACD;;AAED,MAAI9C,gBAAgB,IAAIA,gBAAgB,CAACoH,cAAzC,EAAyD;AACvD,wBACG,mIADH;AAGA,wBAAIzE,iBAAMC,IAAN,CAAW5C,gBAAgB,CAACoH,cAA5B,CAAJ;AACD,GALD,MAKO;AACLjG,mBAAIkG,IAAJ,CACG,oCAAmCpE,sBAAuB,uIAD7D;AAGD;;AAED,MAAIqE,kBAAkB,GAAGtB,kBAAEG,MAAF,CAASjC,WAAT,EAAsB,CAACqD,KAAD,EAAQ9H,gBAAR,KAA6B;AAC1E,WACEC,kBAAO8H,EAAP,CAAU/H,gBAAV,EAA4BwD,sBAA5B,KACAvD,kBAAO+H,EAAP,CAAUhI,gBAAV,EAA4BuD,uBAA5B,CAFF;AAID,GALwB,CAAzB;;AAOA,MAAI0E,qBAAqB,GAAG3G,MAAM,CAACC,IAAP,CAAYsG,kBAAZ,CAA5B;;AACA,MAAII,qBAAqB,CAAClB,MAA1B,EAAkC;AAChCrF,mBAAIQ,OAAJ;;AAEA,QAAIgG,gBAAgB,GAAG5G,MAAM,CAAC6G,MAAP,CAAcN,kBAAd,EACpBtC,GADoB,CAChB6C,IAAI,IAAIA,IAAI,CAACT,cADG,EAEpB1C,MAFoB,CAEb0C,cAAc,IAAIA,cAFL,EAGpBU,OAHoB,EAAvB;;AAIA,QAAIH,gBAAgB,CAACnB,MAAjB,KAA4B,CAAhC,EAAmC;AACjC,0BAAK,+EAAL;AACA,0BAAI7D,iBAAMC,IAAN,CAAY,KAAI+E,gBAAgB,CAAC,CAAD,CAAI,EAApC,CAAJ;AACD,KAHD,MAGO;AACL,0BACG,8GADH;AAGAA,MAAAA,gBAAgB,CAAC1G,OAAjB,CAAyB8G,GAAG,IAAI;AAC9B,4BAAIpF,iBAAMC,IAAN,CAAY,KAAImF,GAAI,EAApB,CAAJ;AACD,OAFD;AAGD;AACF;;AAED5G,iBAAI2B,gBAAJ;AACD;;AAEc,kBAASlB,OAAT,EAA2B;AACxCA,EAAAA,OAAO,CACJoG,OADH,CACW,4BADX,EAEGC,KAFH,CAES,QAFT,EAGGC,MAHH,CAGU,OAHV,EAGmB,0EAHnB,EAIGA,MAJH,CAIU,QAJV,EAIoB,mEAJpB,EAKGC,WALH,CAKe,8EALf,EAMGC,WANH,CAMe,OAAOpE,mBAAP,EAA2CC,OAA3C,KAAgE;AAC3E,UAAM;AAAEnE,MAAAA,WAAF;AAAeC,MAAAA;AAAf,QAA4B,MAAM,0CAAqBsI,OAAO,CAACC,GAAR,EAArB,CAAxC;AAEA,UAAMvE,YAAY,CAChB;AACEC,MAAAA,mBADF;AAEElE,MAAAA,WAFF;AAGEC,MAAAA;AAHF,KADgB,EAMhBkE,OANgB,CAAlB;AAQD,GAjBH;AAkBD","file":"../../commands/upgrade.js","sourceRoot":"/expo-cli@3.16.1/src"}